---
title: "The COVID-19 in Ukraine"
description: |
  A brief summary of the COVID-19 situation in Ukraine 🇺🇦
author:
  - name: Xinying Xu
    url: https://github.com/etc5523-2021/blog-Erin317
date: 09-11-2021
output:
  distill::distill_article:
    includes: 
      in_header: header.html
    toc: true
    toc_depth: 3
    toc_float: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE,
                      warning = FALSE, 
                      error = FALSE,
                      message = FALSE,
                      options("scipen"=100, "digits"=4))
```

```{r, echo=FALSE}
library(tidyverse)
library(readxl)
library(lubridate)
library(dygraphs)
library(xts)
library(leaflet)
library(kableExtra)
library(formattable)
library(rgeos)
library(rnaturalearth)
```

# 💭 Introduction

Before we get started, let's talk about something not that serious. In Ukraine, there's a famous place called ***The Tunnel of Love***, which is one of the most photographed places, as you can see from the header. Its origins all the way back to the tensions and secrecy of the Cold War.

Visitors travel from around the world to see the famous tree tunnel running through the small western town of Klevan, especially for the couples, who believe that if they make a wish here and if their love is sincere, their wishes will come true.

You can also explore Lutsk tourist attractions like Lubart's Castle and Cathedral of the St. Peter and Paul along the ways.

![](castle.png)

The Tunnel of Love is an industrial railway connection which links Klevan with Orzhiv. The railway is surrounded by beautiful green arches and it is located approx 7 kilometers from the city of Klevan, Ukraine, mainly for wooden work and employed three times a day. A track is about 3 kilometers long.

Anyway, this train tunnel is an amazing example of what happens when nature is allowed to grow freely around man-made infrastructure. Many say that is a lifetime experience you simply can not miss, especially for romantics. I really would like to travel to Ukraine after the covid has passed.

```{css}
.d-article-with-toc .l-body tr:hover {background-color: #D7E9F7;}
.article-banner {
  width: auto;
  height: auto;
  border: 0;
}
img[src="Tunnel.png"] {
  border: 0;
  padding: 0;
  width: 100%;
  margin: 0px 0px 0px 0px;
}
d-article h2{
  color: #11324D;
  font-size: 20px;
  font-family: "Lucida Console", monospace;
}

d-article h3{
  color: #11324D;
  font-size: 20px;
  font-family: "Lucida Console", monospace;
}
```
# 💭 Data description

This post will discuss about the COVID-19 in Ukraine, manly focus on 2 aspects: the overall status of Europe, especially in Ukraine and the vaccination coverage. Finally, a brief summary of tests and patients situation. 

Data collected from 4 sources: the accumulated data and new cases data collected from [Johns Hopkins](https://github.com/govex/COVID-19) and [Our World in data](https://github.com/owid/covid-19-data/tree/master/public/data), covered the time period from March 2020 to 12 September 2021. The vaccination data collected from [World Health Organization(WHO)](https://covid19.who.int/info/), the information of tests and patients collected from [
Ministry of Health Contact Center for COVID-19](https://moz.gov.ua/article/news/operativna-informacija-pro-poshirennja-koronavirusnoi-infekcii-2019-cov19), updated in 11 September 2021.

Especially, in order to map the distribution of COVID-19 of Europe, we use `rnaturalearth` package to get the shapefile data of Europe.

What's more, the vaccination data has some limitations. It's pretty hard to collect daily data of Ukraine without so many missing values, so in this aspect, it's best to compare the fully coverage rate of Ukraine with the whole European countries. And the two maps didn't cover all the European countries.

```{r}
region <- read_excel("data/covid-19-cases-in-ukraine-by-region.xlsx") %>% 
  rename("Confirmed" = `Total cases`)
```

```{r}
ukr_covid <- read_csv("https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/owid-covid-data.csv") %>% 
  filter(location == "Ukraine")
```

```{r}
ukr_confirmed <- read_csv("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv")%>% 
  rename(Country = "Country/Region") %>% 
  filter(Country == "Ukraine") %>%
  select(-`Province/State`, -Lat, -Long) %>% 
  pivot_longer(cols = -Country,
               names_to = "Date",
               values_to = "Accumulated_confirmed")
```

```{r}
ukr_recovered <- read_csv("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_recovered_global.csv") %>% 
  rename( Country = "Country/Region") %>% 
  filter(Country == "Ukraine") %>%
  select(-`Province/State`,-Lat,-Long) %>% 
  pivot_longer(cols = -Country,
               names_to = "Date",
               values_to = "Accumulated_recovered")
```

```{r}
ukr_dead <- read_csv("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv") %>% 
  rename( Country = "Country/Region") %>% 
  filter(Country == "Ukraine") %>%
  select(-`Province/State`,-Lat,-Long) %>% 
  pivot_longer(cols = -Country,
               names_to = "Date",
               values_to = "Accumulated_dead")
```

```{r}
patient <- read_excel("data/ukr_patient.xlsx")
```

# 💭 Exploratory data analysis

I will have a brief explanation of each plot that I made, the data story will present at the end of each part, corresponding with the graphs.

## 🌷 The whole pandemic in Ukraine

Firstly, Let's roughly have a look at the interactive map of the entire Europe, which updated to the latest data.

```{r}
# combine them together
combined_ukr <- ukr_confirmed %>%
  full_join(ukr_recovered, by = c("Country", "Date")) %>% 
  full_join(ukr_dead, by = c("Country", "Date")) %>%
  select(-Country) %>% 
  rename("Accumulated confirmed" = Accumulated_confirmed,
         "Accumulated recovered" = Accumulated_recovered,
         "Accumulated dead" = Accumulated_dead) %>% 
  mutate(Date = mdy(Date),
         Date = as.Date(Date,format = "%Y-%m-%d"))
```


```{r}
# make the map of covid-19 in Europe
eu_dat <- read_csv("https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/owid-covid-data.csv") %>% 
  filter(continent == "Europe") %>% 
  select(location,date,total_cases) %>% 
  filter(date == max(date))   # filter the newest data
  
# get the shapfile data of Europe
eumap <- ne_countries(continent = "Europe", returnclass = "sf", scale = "medium") %>% 
  filter(subunit %in% eu_dat$location) %>% 
  select(subunit)
# combine data of europe map with covid-19 data of europe.
eu_combine <- eumap %>% 
  right_join(eu_dat, by = c("subunit" = "location")) %>% 
  mutate(total_cases = total_cases / 1000000) %>% sf::st_as_sf()
```

```{r}
mybins <- c(0,1,2,3,4,5,Inf)
mypalette <- colorBin( palette="RdYlBu", 
                           domain=eu_combine$total_cases, 
                           na.color="transparent",
                           bins = mybins)
mytext = paste("Name:", eu_combine$subunit,"<br>",
               "Total cases:", eu_combine$total_cases,"<br>",
               sep = "") %>% 
  lapply(htmltools::HTML)

leaflet(eu_combine) %>%
  setView(lat = 54.52, lng = 15.25,zoom=2) %>% 
  addTiles() %>% 
  addPolygons(color = "#444444", 
              weight = 1,
              dashArray = "3",
              smoothFactor = 0.5,
              opacity = 1.0, 
              fillOpacity = 0.7,
              fillColor = ~mypalette(total_cases),
              label = mytext,
              labelOptions = labelOptions(
                style = list("font-weight" = "normal", padding = "3px 8px"),
                textsize = "13px",
                direction = "auto"),
              highlightOptions = highlightOptions(color = "white", 
                                                  weight = 2,
                                                  bringToFront = TRUE)) %>% 
  addProviderTiles(providers$CartoDB.DarkMatter) %>% 
  addLegend( pal=mypalette, 
             values=~total_cases, 
             opacity=0.9, title = "Total cases(Million)",
             position = "bottomleft" )

```

It's important to know about the overall situation at first. In this map, I grouped the accumulated data into 6 levels, which represent the different severity level respectively. Apparently, the group which the total cases interval is less than 3 million, take the majority of the overall Europe, only very few countries like Iceland, Norway, it seems that the pandemic is not that serious in those countries, it fairly under control. In Ukraine, about `r eu_combine$total_cases[43]` million accumulated cases, it has been seriously affected compared with others. Russia is the worst-hit country across Europe, already `r eu_combine$total_cases[38]` million confirmed cases.

The table shows the distribution of COVID-19 cases by regions of Ukraine, which updated in 11 September 2021, so there may be some deviations from the latest data. 

```{r}
# make table by regions
region$Confirmed <- color_tile("white", "#E1701A")(region$Confirmed)
region$Recoveries <- color_tile("white","#6D3580")(region$Recoveries)
region$Deaths <- ifelse(
  region$Deaths  > 2000,
  cell_spec(region$Deaths, color = "red", bold = T),
  cell_spec(region$Deaths, color = "green", italic = T)
)

kbl(region, escape = F,
    caption = "Distribution of COVID-19 cases by regions in 11 Sep 2021") %>%
  kable_paper("hover",full_width = F)%>%
  column_spec(1, width = "3cm") %>% 
  scroll_box(width = "500px", height = "500px")
```


It can be seen that, Kyiv city ranks first in terms of the accumulated confirmed cases and accumulated recovered cases, and the number of accumulated deaths is highest across Ukraine as well. This is because kyiv is the capital of and most populous city of Ukraine, passengers volume is huge, resulting in the rapid spread of epidemic.

Kharkiv city ranked second based on the accumulated situation of confirmed and recovered. In addition,it's interesting to realise, although the amount of these two aspects in Dnepropetrovsk city is not that much compared with Kharkiv, Lviv and Odessa, the deaths is much higher than these three, almost 4800 persons in total. People should avoid travelling to these cities.

These two plots shows the trend of COVID-19 cases in Ukraine, which updated to the latest data.

```{r}
dy1 <- combined_ukr
don1=xts(x = dy1[,-1],order.by = dy1$Date)
dygraph(don1, main = "Plot1:The trend of accumulated data of covid-19 in Ukraine") %>% 
  dySeries("Accumulated confirmed", label = "Confirmed",fillGraph = TRUE,color = "#E1701A") %>%
  dySeries("Accumulated recovered", label = "Recovered",fillGraph = TRUE,color = "#6D3580") %>%
  dySeries("Accumulated dead",label = "Dead",fillGraph = TRUE, color = "#7F7C82") %>% 
  dyHighlight(highlightSeriesOpts = list(strokeWidth = 3)) %>% 
  dyRangeSelector(height = 20)
  
```

The trends of confirmed and recovered are slightly increasing recently, it means that it seems to have a wide spread phenomenon again. The deaths amount is always relatively low, but the death rate has a upward trend compared with 2020. What's more, there are some missing values in recovered data so it dropped at 0 suddenly, which is not reliable. Besides, you can set the time range selector at any time that you want, to explore the data by yourself.

```{r}
dy2 <- ukr_covid %>% 
  select(date,new_cases, new_deaths)
# create the xts format
don2=xts( x=dy2[,-1], order.by=dy2$date)
dygraph(don2, main = "Plot2:The trend of new cases and new deaths in Ukraine") %>%
  dyRangeSelector(height = 20) %>% 
  dySeries("new_cases", label = "New cases", color = "#E1701A") %>% 
  dySeries("new_deaths", label = "New deaths", color = "#7F7C82", fillGraph = TRUE) %>% 
  dyHighlight(highlightCircleSize = 3, 
              highlightSeriesBackgroundAlpha = 0.2,
              hideOnMouseOut = FALSE)
```

We can know that, there were two outbreaks happened in Ukraine apparently, on 28th Nov 2021 and 3th Apr 2021 respectively. What's more, the trend of new cases has a slightly upward in recent days and the daily amount of new deaths is not optimistic, there are people died of COVID-19 every day.

### 🌷 Data story

As Ukraine entered April 2021, why this country could experienced a second outbreak according to the plot 2?

Actually, Ukraine was in its third lockdown phase since the COVID-19 pandemic began in spring 2020, and its second lockdown in the space of just three months. Until 12th September 2021, from plot1 we can know that, at least 57772 Ukrainians have died as a result of the pandemic. And unfortunately for Ukraine, either the war with Russia or the pandemic, in both case, had cause casualties. Worse yet, the Ukrainian government's response to coronavirus has been a textbook example of failed crisis management.

There are mainly 3 reasons why Ukraine experienced a second outbreak. At first, although Ukraine took lockdown measures to cut the chains of contact with the disease, however, when cutting the chains, this also includes tracking and tracing, which Ukraine has not effectively utilized.

Secondly, as the more contagious British strand of the virus spreads through Ukraine, hospitals are already at near capacity and the death toll is surging. For example, there were 19,281 COVID-related deaths in Ukraine in 2020. Just in the half of 2021, there have already been 35,300 deaths, the fatality rate seems to has accelerated. This indicates that lockdown conditions have been too lax and have come too late, the related measurements didn't work well. 

Finally, the cities like Iceland, China, The United stated and the United Kingdom are rapidly vaccinating their citizens, Ukraine has made virtually no progress at all.

These factors contributed the bad situation now.

## 🌷 The vaccination coverage

This is the map of distribution of **fully** vaccination coverage across the Europe, which updated to the latest data.

```{r}
eu_vaccine <- read_csv("https://covid19.who.int/who-data/vaccination-data.csv") %>% 
  filter(WHO_REGION == "EURO") %>% 
  mutate(COUNTRY = recode(COUNTRY,
                          "The United Kingdom" = "United Kingdom",
                          "Republic of Moldova" = "Moldova"))
vac_coverage <- eu_vaccine %>% 
  left_join(eumap, by = c("COUNTRY" = "subunit"))
# Europe population  
eu_pop <- read_csv("https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/owid-covid-data.csv") %>% 
  filter(continent == "Europe") %>% 
  select(location,population) %>%
  unique()
# calculate the vacc coverage of the Europe
eu_coverage <- vac_coverage %>% 
  right_join(eu_pop, by = c("COUNTRY" = "location")) %>% 
  select(COUNTRY,PERSONS_FULLY_VACCINATED,population,geometry) %>% 
  mutate(fully_rate = PERSONS_FULLY_VACCINATED/population*100,
         fully_rate = round(fully_rate,3)) %>% 
  select(-PERSONS_FULLY_VACCINATED,-population) %>% 
  filter(!is.na(fully_rate)) %>% sf::st_as_sf()
```

```{r}
mybins2 <- c(0,15,30,45,60,75,Inf)
mypalette2 <- colorBin(palette="RdYlBu",
                       domain=eu_coverage$fully_rate,
                       na.color="transparent",
                       bins = mybins2)
mytext2 = paste("Name:", eu_coverage$COUNTRY,"<br>",
               "Fully vaccinated rate:", eu_coverage$fully_rate,"%<br>",
               sep = "") %>% 
  lapply(htmltools::HTML)

leaflet(eu_coverage) %>%
  setView(lat = 54.52, lng = 10,zoom = 3) %>% 
  addTiles() %>% 
  addProviderTiles(providers$CartoDB.DarkMatter) %>%
  addPolygons(color = "#444444", 
              dashArray = "3",
              weight = 1, 
              smoothFactor = 0.5,
              opacity = 1.0, 
              fillOpacity = 0.8,
              fillColor = ~mypalette2(eu_coverage$fully_rate),
              label = mytext2,
              labelOptions = labelOptions(
                style = list("font-weight" = "normal", padding = "3px 8px"),
                textsize = "13px",
                direction = "auto"),
              highlightOptions = highlightOptions(color = "white", 
                                                  weight = 2,
                                                  bringToFront = TRUE)) %>% 
  addLegend( pal = mypalette2, 
             values = ~fully_rate, 
             opacity = 0.9, title = "Fully vaccinated rate(%)",
             position = "bottomleft")
```

Unfortunately, the coverage rate in Ukraine is only `r tail(eu_coverage$fully_rate,1)`%, which belongs to the first group, represent the lowest coverage level, it's pretty low compared with other countries. Actually, Ukraine owns the lowest coverage rate in the whole European countries. In addition, Iceland and Spain should be portrayed as a relatively successful case in the control of COVID-19, with a very high fully vaccination coverage, especially Iceland, the amount of accumulated cases is relatively very low as well, epidemic prevention and control has been very successful. Overall, the range of coverage rate of most countries is from 45% to 75% in Europe.

### 🌷 Data story

So why does Ukraine have such dismal vaccination numbers despite facing an increasingly lethal covid crisis?

According to the updated news, there are three main reasons. The first is the country's Soviet legacy. Suspicion of vaccines was a Soviet staple which is still prevalent in Ukraine, particularly among the older population, which is ironically the most vulnerable to infection and death from covid.

The second reason for low vaccination rates in Ukraine is disinformation spread via traditional and social media. This disinformation is being pushed primarily by Russian and Kremlin-friendly sources, a trend which was also identified last month by the US State Department.

[A March 2021 survey by Research and Branding ](https://rb.com.ua/uk/blog-uk/omnibus-uk/stavlennja-ukrainciv-do-vakcinacii-proti-covid-19-2/?fbclid=IwAR1bV72G6U0MgRBYo7wE5yqnikBUkNkIp3ojyAYW6SZbXcE_qLInNTGOgP8) showed that 60% of Ukrainians would not get vaccinated even if it was provided free of charge. Alarmingly, this represented a sharp increase from the February figure of 40%.

The third reason for Ukraine's poor vaccination results is the failed leadership of the current government and Ministry of Health led. The government's January 2021 agreement for 1.9 million Chinese Sinovac vaccines was hardly a confidence builder with the Ukrainian public, which was less than persuasive for many Ukrainians. A subsequent attempt to obtain Indian produced Astra Zeneca CovidShield vaccines was also met with skepticism by the Ukrainian public.

Nowadays, more than 80% of all deaths from COVID-19 in Ukraine are over 60 years old. Health officials say this is a indication that the elderly are at the highest risk of coronavirus disease. And the older the person, the higher this risk. So the only way to protect yourself from severe COVID-19 and death is to get vaccinated. The effectiveness in preventing hospitalization and death is over 90%. While other countries in Europe move towards majority vaccination levels and the gradual relaxation of lockdown restrictions.

# 💭 Summary

```{r}
patient_tidy <- patient %>% 
  mutate(Value = scales::comma(Value))
kable(patient_tidy, caption = "The summary of test and pandemic situation.\nUpdated: 11 September 2021") %>% 
  kable_paper( full_width = F) %>%
  pack_rows(index = c("The last day" = 3, 
                      "Tested per day" = 3, 
                      "The whole pandemic in Ukraine" = 4))
```

In summary, based on the newest data from Ministry of Health Contact Center, which updated in 11th September 2021, the fatality rate is about 2.3%, recovery rate is about 95%, which is pretty high, the total test were performed about 38702 per day. There are still new cases continue to be reported every day and the trend of deaths is on the rise. Worst of all, the overall trend of infection rate seems to begin to grow again recently, which is not a good signal.

The truth is, Ukraine is the country which has the lowest vaccination coverage rate across the Europe, because of the suspicion of vaccines, which is a common case in Ukraine. But Ukrainians need to get vaccinated as soon as possible, it's the only way to protect ourselves. The current Ukrainian government should be to blame for the poor vaccination results, it is a bad example of failed crisis management.

In a word, the situation of COVID-19 in Ukraine is with sense of urgency.👿


# 💭 Reference
 
***Data source***

Ministry of Health Contact Center for COVID-19. Operational information on the spread and prevention of COVID-19. https://moz.gov.ua/article/news/operativna-informacija-pro-poshirennja-koronavirusnoi-infekcii-2019-cov19.

Our world in data. Data on COVID-19 (corovirus) by Our World in Data. https://github.com/owid/covid-19-data/tree/master/public/data.

The repository of COVID-19 data underlying the analysis created by the Johns Hopkins Centers for Civic Impact for the Coronavirus Resource Center (CRC). https://github.com/govex/COVID-19.

Vaccination data retrieved from World Health Organization(WHO). https://covid19.who.int/info/.

***R packages***

Wickham H, Averick M, Bryan J, Chang W. Tidyverse: "Welcome to the tidyverse.” Journal of Open Source Software. https://CRAN.R-project.org/package=tidyverse.

Hadley Wickham ORCID iD [aut], Jennifer Bryan ORCID iD [aut, cre], RStudio [cph, fnd]. readxl: Read Excel Files. https://CRAN.R-project.org/package=readxl.

Dan Vanderkam, Petr Shevtsov, JJ Allaire. dygraphs: Interface to 'Dygraphs' Interactive Time Series Charting Library. https://CRAN.R-project.org/package=dygraphs

Jeffrey A. Ryan [aut, cph],Joshua M. Ulrich. xts: Provide for uniform handling of R's different time-based data classes by extending zoo, maximizing native format information preservation and allowing for user level customization and extension. https://github.com/joshuaulrich/xts.

Joe Cheng [aut, cre], Bhaskar Karambelkar [aut], Yihui Xie [aut]. leaflet: Create Interactive Web Maps with the JavaScript 'Leaflet' Library. https://CRAN.R-project.org/package=leaflet.

Hao Zhu[aut, cre]. kableExtra: Construct Complex Table with 'kable' and Pipe Syntax. https://CRAN.R-project.org/package=kableExtra

Grolemund G, Wickham H (2011). "Dates and Times Made Easy with lubridate." Journal of Statistical Software, 40(3), 1–25. https://www.jstatsoft.org/v40/i03/.

Kun Ren [aut, cre], Kenton Russell [aut]. formattable: Create 'Formattable' Data Structures. https://CRAN.R-project.org/package=formattable

Roger Bivand[cre, aut], Colin Rundel [aut]. rgeos: Interface to Geometry Engine - Open Source ('GEOS'). https://CRAN.R-project.org/package=rgeos

rnaturalearth: An R package to hold and facilitate interaction with Natural Earth map data. https://cran.r-project.org/web/packages/rnaturalearth/README.html


